<p>In an effort to keep fit and healthy, I keep track of my fitness and weight data, and do various analyses on this data. This data comes from Fitbit (a Fitbit Flex) and manually entered weight data. The code used to generate these graphs are in <a href="https://github.com/ticklethepanda/health-vis">my <code>health-vis</code> repository on GitHub</a>.</p>

<h2>weight</h2>
<h3>historic weight</h3>
<a href="https://api.ticklethepanda.co.uk/health/weight?img">
  <img alt="chart of weight by time" src="https://api.ticklethepanda.co.uk/health/weight?img" width="1000px" height="500px">
</a>
<h3>trying again!</h3>
<a href="https://api.ticklethepanda.co.uk/health/weight?img&after=2017-01-01">
  <img alt="chart of weight by time since I started trying again" src="https://api.ticklethepanda.co.uk/health/weight?img&after=2017-01-01" width="1000px" height="500px">
</a>

<h3>recent weight</h3>
<a href="https://api.ticklethepanda.co.uk/health/weight?img&recent">
  <img alt="chart of recent weight by time" src="https://api.ticklethepanda.co.uk/health/weight?img&recent" width="1000px" height="500px">
</a>
<h2>activity</h2>
<h3>total steps</h3>
<span class="datum-box" id="total-steps"></span>

<h3>average</h3>
<h4>average day</h4>
<a href="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute">
  <img src="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute" alt="chart of average number of steps by time of day" width="1000px" height="500px">
</a>

<h4>average steps by month</h4>
<a href="https://api.ticklethepanda.co.uk/health/activity?average&img&by=day&facet=month">
  <img src="https://api.ticklethepanda.co.uk/health/activity?average&img&by=day&facet=month" alt="chart of average number of steps in a day, split by the months of the year" width="1000px" height="500px">
</a>

<h4>average steps by time of day by month</h4>
<a href="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute&facet=month">
  <img src="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute&facet=month" alt="chart of average number of steps by time of day, split by the months of the year" width="1000px" height="1848px">
</a>

<h4>average steps by day of week</h4>
<a href="https://api.ticklethepanda.co.uk/health/activity?average&img&by=day&facet=weekday">
  <img src="https://api.ticklethepanda.co.uk/health/activity?average&img&by=day&facet=weekday" alt="chart of average number of steps in a day, split by the days of the week" width="1000px" height="500px">
</a>

<h4>average steps by time of day by day of week</h4>
<a href="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute&facet=weekday">
  <img src="https://api.ticklethepanda.co.uk/health/activity?average&img&by=minute&facet=weekday" alt="chart of average number of steps by time of day, split by the days of the week" width="1000px" height="1098px">
</a>

<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous">
</script>
<script>
  $(document).ready(function() {
    fetch("https://api.ticklethepanda.co.uk/health/activity?sum")
      .then(response => {
        if(response.ok) {
          return response.text();
        } else {
          throw Error("unable to load data: " + response.statusText);
        }
      })
      .then(result => {
        $("#total-steps").text(Number.parseFloat(result).toLocaleString());
      });
  });
</script>

<style>
  .datum-box {
    font-size: larger;
    padding: 1em;
    margin: 1em;
    line-height: 2em;
    background-color: #cda;
  }
</style>
